<script type="module">

    // import kaboom.js
    import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

    // initialize kaboom context
    kaboom({
	background: [141, 183, 255],
        })

        // load assets
        loadSprite("mario", "mario-49286.png")
        loadSprite("goomba", "NSMBDS_Goomba_Artwork.webp")
        loadSprite("spike", "spike.png")
        loadSprite("grass", "grass (1).png")
        loadSprite("steel", "steel.png")
        loadSprite("mushroom", "pngimg.com - mario_PNG75.png")
        loadSprite("warp door", "P_Warp_Door_SMM_NSMBU_sprite.webp")
        loadSprite("coin", "Coin_-_New_Super_Mario_Bros.webp")
        loadSound("coin", "/examples/sounds/score.mp3")
        loadSound("powerup", "/examples/sounds/powerup.mp3")
        loadSound("blip", "")
        loadSound("hit", "/examples/sounds/hit.mp3")
        loadSound("portal", "/examples/sounds/portal.mp3")

        setGravity(3200)

        // Enemy movement
        function patrol(speed = 60, dir = 1) {
        return {
            id: "patrol",
            require: [ "pos", "area" ],
            add() {
                this.on("collide", (obj, col) => {
                    if (col.isLeft() || col.isRight()) {
                        dir = -dir
                    }
                })
            },
            update() {
                this.move(speed * dir, 0)
            },
        }
    }



    </script>
